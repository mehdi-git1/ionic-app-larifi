<edospnc-expandable-block mini="true" title=" {{ 'EOBSERVATION.DETAIL.ROTATION_SUBTITLE' | translate }}" [emptyCondition]="!hasFlights()">
    <div class="rotation-info">
        <ion-grid>
            <ion-row>
                <ion-col size="2" class="rotation-number">{{eObservation?.rotationNumber}}</ion-col>
                <ion-col size="2"><span *ngIf="eObservation?.rotationDate">{{eObservation?.rotationDate | date: 'dd/MM/yyyy' : 'UTC'}} </span></ion-col>
                <ion-col size="8">
                    <ng-container *ngIf="!editMode; else rotationDegradedEditBlock">
                        <radio-and-label disabled="true" conditionValue="{{eObservation?.rotationDegraded}}" label="{{ 'EOBSERVATION.DETAIL.DEGRADED_CONDITIONS' | translate }}"></radio-and-label>
                    </ng-container>
                    <ng-template #rotationDegradedEditBlock>
                        <ion-item lines="none">
                            <ion-label>{{ 'EOBSERVATION.DETAIL.DEGRADED_CONDITIONS' | translate }}</ion-label>
                            <ion-checkbox slot="start" [(ngModel)]="eObservation.rotationDegraded" [checked]="eObservation.rotationDegraded"></ion-checkbox>
                        </ion-item>
                    </ng-template>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
    <ion-grid class="rotation-grid">
        <ion-row class="flight-header">
            <ion-col size="2">{{ 'EOBSERVATION.DETAIL.FLIGHT_NUMBER' | translate }}</ion-col>
            <ion-col size="2">{{ 'EOBSERVATION.DETAIL.FLIGHT_DATE' | translate }}</ion-col>
            <ion-col size="2">{{ 'EOBSERVATION.DETAIL.STOP_STATION' | translate }}</ion-col>
            <ion-col size="1">{{ 'EOBSERVATION.DETAIL.AIRCRAFT_TYPE' | translate }}</ion-col>
            <ion-col size="2">{{ 'EOBSERVATION.DETAIL.VERSION' | translate }}</ion-col>
            <ion-col size="2">{{ 'EOBSERVATION.DETAIL.OCCUPANCY_RATE' | translate }}</ion-col>
            <ion-col size="1">{{ 'EOBSERVATION.DETAIL.WORKSTATION' | translate }}</ion-col>
        </ion-row>
        <ion-row *ngFor="let eObservationFlight of sortedFlights()">
            <ion-col size="2">{{eObservationFlight?.flightNumber}}</ion-col>
            <ion-col size="2"><span *ngIf="eObservationFlight?.flightDate">{{eObservationFlight?.flightDate | date: 'dd/MM/yyyy' : 'UTC'}}</span></ion-col>
            <ion-col size="2">{{eObservationFlight?.departureStation}} / {{eObservationFlight?.arrivalStation}}</ion-col>
            <ion-col size="1">{{eObservationFlight?.aircraftType}}</ion-col>
            <ion-col size="2">{{eObservationFlight?.exploitationVersion}}</ion-col>
            <ion-col size="2">{{eObservationFlight?.occupancyRate}}</ion-col>
            <ion-col size="1">
                <ng-container *ngIf="!editMode; else workStationEditBlock">{{eObservationFlight?.workStation}}</ng-container>
                <ng-template #workStationEditBlock>
                    <ion-input type="text" [(ngModel)]="eObservationFlight.workStation"></ion-input>
                </ng-template>
            </ion-col>
        </ion-row>
    </ion-grid>
</edospnc-expandable-block>
