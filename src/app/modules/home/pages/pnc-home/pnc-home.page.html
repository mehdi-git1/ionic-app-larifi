<ion-header>
    <ion-navbar>
        <page-header (refreshPage)="initPage()">
            <ng-container *ngIf="isMyHome() && pnc">{{ 'PNC_HOME.TITLE' | isMyPage: pnc | translate }}</ng-container>
        </page-header>
    </ion-navbar>
</ion-header>

<ion-content padding no-bounce>
    <edossier-spinner *ngIf="!loadingIsOver(); else pageBlock"></edossier-spinner>
    <ng-template #pageBlock>
        <ion-grid>
            <ion-row ng-class="row-pnc-info-panel" *ngIf="pnc">
                <ion-card class="pnc-info-panel">
                    <offline-indicator [object]="pnc" type="PNC"></offline-indicator>
                    <ion-grid>
                        <ion-row>
                            <ion-col col-2>
                                <pnc-photo [pnc]="pnc" [size]="120"></pnc-photo>
                            </ion-col>
                            <ion-col col-10 class="content">
                                <ion-row class="primary-info">
                                    <!-- Matricule-->
                                    <ion-col class="pnc-info">
                                        <span class="value">{{pnc.matricule}}</span>
                                    </ion-col>
                                    <!-- Nom -->
                                    <ion-col class="pnc-info">
                                        <span class="value">{{ pnc.lastName }}</span>
                                    </ion-col>
                                    <!-- Prénom -->
                                    <ion-col class="pnc-info">
                                        <span class="value firstname">{{ pnc.firstName }}</span>
                                    </ion-col>
                                    <ion-col class="download-edossier">
                                        <download-button [synchroInProgress]="synchroInProgress" (onDownload)="downloadPncEdossier()"></download-button>
                                    </ion-col>
                                </ion-row>
                                <ion-row>
                                    <!-- Spécialité-->
                                    <ion-col class="pnc-info">
                                        <label>{{ 'PNC_HOME.INFO_PANEL.FUNCTION' | translate }}</label>
                                        <span class="value" [ngClass]="{'no-value' : !formatedSpeciality }">
                                            {{ formatedSpeciality }}
                                        </span>
                                    </ion-col>
                                    <!-- Division-->
                                    <ion-col class="pnc-info">
                                        <label>{{ 'PNC_HOME.INFO_PANEL.DIVISION' | translate }}</label>
                                        <span class="value" [ngClass]="{'no-value' : !pnc?.assignment?.division }">{{ pnc?.assignment?.division }}</span>
                                    </ion-col>
                                    <!-- Secteur-->
                                    <ion-col class="pnc-info">
                                        <label>{{ 'PNC_HOME.INFO_PANEL.SECTOR' | translate }}</label>
                                        <span class="value" [ngClass]="{'no-value' : !pnc?.assignment?.sector }">{{ pnc?.assignment?.sector }}</span>
                                    </ion-col>
                                    <!-- Ginq-->
                                    <ion-col class="pnc-info">
                                        <label>{{ 'PNC_HOME.INFO_PANEL.GINQ' | translate }}</label>
                                        <span class="value" [ngClass]="{'no-value' : !pnc?.assignment?.ginq }">{{ pnc?.assignment?.ginq }}</span>
                                    </ion-col>
                                </ion-row>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-card>
            </ion-row>

            <ion-row id="nav-tile-grid" *ngIf="pnc">
                <ion-col>
                    <!-- Liste des objectifs-->
                    <div class="button-parent" *ngIf="!isManager()">
                        <button ion-button (click)="goToCareerObjectiveList()" color="red14">
                            {{ 'GLOBAL.DEVELOPMENT_PROGRAM' | isMyPage: pnc | translate }}
                        </button>
                    </div>
                    <!-- Effectif PNC -->
                    <div class="button-parent" *ngIf="isManager()">
                        <button ion-button (click)="goToPncSearch()" color="red20">
                            {{ 'GLOBAL.PNC_TEAM' | isMyPage: pnc | translate }}
                        </button>
                    </div>
                    <!-- Activité vols -->
                    <div class="button-parent" *ngIf="isManager()">
                        <button ion-button (click)="goToUpcomingFlightList()" color="blue65">
                            {{ 'GLOBAL.UPCOMING_FLIGHT' | isMyPage: pnc | translate }}
                        </button>
                    </div>
                    <!--  Niveau professionnel -->
                    <div class="button-parent" *hasPermission="'VIEW_PROFESSIONAL_LEVEL'">
                        <button ion-button (click)="goToProfessionalLevel()" color="green55">
                            {{ 'GLOBAL.PROFESSIONAL_LEVEL' | isMyPage: pnc | translate }}
                        </button>
                    </div>
                    <!--  Attestation réglementaire -->
                    <div class="button-parent" *hasPermission="'VIEW_STATUTORY_CERTIFICATE'">
                        <button ion-button (click)="goToStatutoryCertificate()" color="blue76">
                            {{ 'GLOBAL.STATUTORY_CERTIFICATE' | isMyPage: pnc | translate }}
                        </button>
                    </div>
                    <!--  Lettres de félicitation -->
                    <div class="button-parent">
                        <button ion-button (click)="goToCongratulationLetters()" color="green65">
                            {{ 'GLOBAL.CONGRATULATION_LETTERS' | isMyPage: pnc | translate }}
                        </button>
                    </div>
                    <!-- Ressource d'aide -->
                    <div class="button-parent">
                        <button ion-button (click)="goToHelpAssetList()" color="grey14">
                            {{ 'GLOBAL.HELP_CENTER' | isMyPage: pnc | translate }}
                        </button>
                    </div>
                </ion-col>
            </ion-row>
        </ion-grid>
    </ng-template>
</ion-content>
